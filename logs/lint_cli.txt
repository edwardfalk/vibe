$ bunx eslint . --ext .js

D:\projects\vibe\eslint.config.js
  27:9  warning  Instance mode: do not use global p5 function "sin"; use p.sin or import from mathUtils.js        vibe-no-p5-globals/no-p5-globals
  28:9  warning  Instance mode: do not use global p5 function "cos"; use p.cos or import from mathUtils.js        vibe-no-p5-globals/no-p5-globals
  29:9  warning  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  30:9  warning  Instance mode: do not use global p5 function "sqrt"; use p.sqrt or import from mathUtils.js      vibe-no-p5-globals/no-p5-globals
  46:9  warning  Instance mode: do not use global p5 function "dist"; use p.dist or import from mathUtils.js      vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\packages\core\__tests__\mathUtils.test.js
   2:10  warning  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   2:10  warning  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  11:21  warning  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  18:12  warning  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\packages\core\src\audio\ToneAudioFacade.js
   10:10  error  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   10:10  error  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  405:17  error  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js      vibe-no-p5-globals/no-p5-globals
  407:52  error  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js      vibe-no-p5-globals/no-p5-globals
  436:51  error  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js      vibe-no-p5-globals/no-p5-globals
  507:31  error  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  538:24  error  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  569:24  error  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  599:24  error  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  629:24  error  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\packages\core\src\mathUtils.js
   5:19  error  Use PI/TWO_PI from @vibe/core instead of Math.PI or raw 2*Math.PI                                vibe-no-math-pi/no-math-pi
   6:23  error  Use PI/TWO_PI from @vibe/core instead of Math.PI or raw 2*Math.PI                                vibe-no-math-pi/no-math-pi
   6:23  error  Use PI/TWO_PI from @vibe/core instead of Math.PI or raw 2*Math.PI                                vibe-no-math-pi/no-math-pi
  14:14  error  Instance mode: do not use global p5 function "sin"; use p.sin or import from mathUtils.js        vibe-no-p5-globals/no-p5-globals
  15:14  error  Instance mode: do not use global p5 function "cos"; use p.cos or import from mathUtils.js        vibe-no-p5-globals/no-p5-globals
  16:14  error  Instance mode: do not use global p5 function "atan2"; use p.atan2 or import from mathUtils.js    vibe-no-p5-globals/no-p5-globals
  17:14  error  Instance mode: do not use global p5 function "sqrt"; use p.sqrt or import from mathUtils.js      vibe-no-p5-globals/no-p5-globals
  29:17  error  Instance mode: do not use global p5 function "dist"; use p.dist or import from mathUtils.js      vibe-no-p5-globals/no-p5-globals
  32:10  error  Instance mode: do not use global p5 function "sqrt"; use p.sqrt or import from mathUtils.js      vibe-no-p5-globals/no-p5-globals
  47:17  error  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  57:28  error  Instance mode: do not use global p5 function "random"; use p.random or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\packages\entities\src\BaseEnemy.js
  230:42  error  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  230:51  error  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\packages\entities\src\EnemySpeechUtils.js
  87:9   error  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  88:26  error  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\packages\entities\src\Tank.js
  104:17  error  Instance mode: do not use global p5 function "dist"; use p.dist or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  105:15  error  Instance mode: do not use global p5 function "dist"; use p.dist or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  106:31  error  Instance mode: do not use global p5 function "dist"; use p.dist or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\packages\fx\src\effects.js
  192:17  error  Instance mode: do not use global p5 function "scale"; use p.scale or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  193:28  error  Instance mode: do not use global p5 function "scale"; use p.scale or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\packages\game\src\GameLoop.js
  277:24  error  'URLSearchParams' is not defined                                                                                                                                                  no-undef
  318:8   error  Replace `·window.visualEffectsManager.init(p);` with `⏎····window.visualEffectsManager.init(p);⏎·`                                                                                prettier/prettier
  340:20  error  Replace `'⚠️·VisualEffectsManager·not·ready·yet;·continuing·without·fatal·abort'` with `⏎········'⚠️·VisualEffectsManager·not·ready·yet;·continuing·without·fatal·abort'⏎······`  prettier/prettier

D:\projects\vibe\packages\tooling\src\kg\sync.js
  66:7  error  Parsing error: Identifier 'maxUncovered' has already been declared

D:\projects\vibe\scripts\check-bashisms.js
  113:25  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  114:43  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  129:29  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  130:17  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  135:11  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  136:24  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  150:19  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  150:38  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  156:26  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  159:17  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  188:9   warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  189:22  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  193:17  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  207:7   warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  214:19  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  218:19  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  225:7   warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  232:36  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  241:19  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  246:30  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\scripts\check-consistency.js
   54:15  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   57:11  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   57:11  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   69:15  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   72:11  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   72:11  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   81:15  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   85:11  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
   85:11  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  100:15  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  104:13  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  104:13  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\scripts\dev-server-status.js
  13:16  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  14:21  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\scripts\learning\orchestrator.js
  42:9   warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  43:32  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\scripts\learning\synthesize-rule.js
  26:16  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  27:12  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  29:30  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\scripts\run-lint-redirect.js
  12:8   error  Replace `·mkdirSync(p,·{·recursive:·true·});` with `␍⏎····mkdirSync(p,·{·recursive:·true·});␍⏎·`                                                     prettier/prettier
  27:11  error  Insert `␍⏎·`                                                                                                                                         prettier/prettier
  34:34  error  Replace `·cwd,·stdio:·['ignore',·'pipe',·'pipe'],·windowsHide:·true·` with `␍⏎··cwd,␍⏎··stdio:·['ignore',·'pipe',·'pipe'],␍⏎··windowsHide:·true,␍⏎`  prettier/prettier
  40:8   error  Replace `·writeFileSync(exitPath,·String(code·??·0));` with `␍⏎····writeFileSync(exitPath,·String(code·??·0));␍⏎·`                                   prettier/prettier
  48:1   error  Delete `␍⏎␍⏎`                                                                                                                                        prettier/prettier

D:\projects\vibe\scripts\run-lint-summary.js
  13:8   error  Replace `·mkdirSync(logsDir,·{·recursive:·true·});` with `␍⏎····mkdirSync(logsDir,·{·recursive:·true·});␍⏎·`                                                      prettier/prettier
  16:18  error  Replace `␍⏎····'packages/**/*.js',␍⏎····'scripts/**/*.js',␍⏎····'*.js',␍⏎··` with `'packages/**/*.js',·'scripts/**/*.js',·'*.js'`                                 prettier/prettier
  28:17  error  Replace `'lint·finished:·exit=2·(internal·error).·See·logs/lint_full.txt'` with `␍⏎······'lint·finished:·exit=2·(internal·error).·See·logs/lint_full.txt'␍⏎····`  prettier/prettier
  57:1   error  Delete `␍⏎␍⏎`                                                                                                                                                     prettier/prettier

D:\projects\vibe\scripts\scan-sound-usage.js
  35:13  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  36:28  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  37:33  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  37:46  warning  Instance mode: do not use global p5 function "text"; use p.text or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals
  37:52  warning  Instance mode: do not use global p5 function "line"; use p.line or import from mathUtils.js  vibe-no-p5-globals/no-p5-globals

D:\projects\vibe\tests\ai-liveness-probe.test.js
  10:10  error  Replace `·await·page.locator('canvas').click({·timeout:·2000·});` with `⏎······await·page.locator('canvas').click({·timeout:·2000·});⏎···`                                                                                                                                                                                                     prettier/prettier
  12:12  error  Replace `·await·page.mouse.click(Math.floor(vp.width·/·2),·Math.floor(vp.height·/·2));·}` with `⏎········await·page.mouse.click(⏎··········Math.floor(vp.width·/·2),⏎··········Math.floor(vp.height·/·2)⏎········);`                                                                                                                           prettier/prettier
  13:7   error  Replace `catch·{·await·page.evaluate(()·=>·document.querySelector('canvas')?.dispatchEvent(new·MouseEvent('click',·{·bubbles:·true·})));` with `}·catch·{⏎········await·page.evaluate(()·=>⏎··········document⏎············.querySelector('canvas')⏎············?.dispatchEvent(new·MouseEvent('click',·{·bubbles:·true·}))⏎········);⏎·····`  prettier/prettier

D:\projects\vibe\tests\audio-system-probe.test.js
   2:9   error  Replace `·INDEX_PAGE,·gotoIndexWithParams,·waitForDrawStart·` with `⏎··INDEX_PAGE,⏎··gotoIndexWithParams,⏎··waitForDrawStart,⏎`                                                                 prettier/prettier
   5:76  error  Replace `·page` with `⏎····page,⏎·`                                                                                                                                                             prettier/prettier
   7:32  error  Replace `·console.log(`[browser][${msg.type()}]·${msg.text()}`)` with `⏎······console.log(`[browser][${msg.type()}]·${msg.text()}`)⏎····`                                                       prettier/prettier
   9:38  error  Replace `·testMode:·'1',·testScenario:·'audio-basic'` with `⏎······testMode:·'1',⏎······testScenario:·'audio-basic',⏎···`                                                                       prettier/prettier
  22:34  error  Replace `Math.floor(vp.width·/·2),·Math.floor(vp.height·/·2)` with `⏎············Math.floor(vp.width·/·2),⏎············Math.floor(vp.height·/·2)⏎··········`                                    prettier/prettier
  27:15  error  Replace `attempt·===·0·&&·(msg.includes('context')·||·msg.includes('closed'))` with `⏎············attempt·===·0·&&⏎············(msg.includes('context')·||·msg.includes('closed'))⏎··········`  prettier/prettier
  28:46  error  Replace `·testMode:·'1',·testScenario:·'audio-basic'` with `⏎··············testMode:·'1',⏎··············testScenario:·'audio-basic',⏎···········`                                               prettier/prettier
  62:40  error  Replace `'@vibe/tooling/probes/audio-system-probe.js'` with `⏎················'@vibe/tooling/probes/audio-system-probe.js'⏎··············`                                                      prettier/prettier

D:\projects\vibe\tests\collision-detection-probe.test.js
   9:10  error  Replace `·await·page.locator('canvas').click({·timeout:·2000·});` with `⏎······await·page.locator('canvas').click({·timeout:·2000·});⏎···`                                                                                                                                                                                                     prettier/prettier
  11:12  error  Replace `·await·page.mouse.click(Math.floor(vp.width·/·2),·Math.floor(vp.height·/·2));·}` with `⏎········await·page.mouse.click(⏎··········Math.floor(vp.width·/·2),⏎··········Math.floor(vp.height·/·2)⏎········);`                                                                                                                           prettier/prettier
  12:7   error  Replace `catch·{·await·page.evaluate(()·=>·document.querySelector('canvas')?.dispatchEvent(new·MouseEvent('click',·{·bubbles:·true·})));` with `}·catch·{⏎········await·page.evaluate(()·=>⏎··········document⏎············.querySelector('canvas')⏎············?.dispatchEvent(new·MouseEvent('click',·{·bubbles:·true·}))⏎········);⏎·····`  prettier/prettier

D:\projects\vibe\tests\comprehensive-probe-runner.test.js
  23:10  error  Replace `·await·page.locator('canvas').click({·timeout:·2000·});` with `⏎······await·page.locator('canvas').click({·timeout:·2000·});⏎···`                                                                                                                                                                                                     prettier/prettier
  25:12  error  Replace `·await·page.mouse.click(Math.floor(vp.width·/·2),·Math.floor(vp.height·/·2));·}` with `⏎········await·page.mouse.click(⏎··········Math.floor(vp.width·/·2),⏎··········Math.floor(vp.height·/·2)⏎········);`                                                                                                                           prettier/prettier
  26:7   error  Replace `catch·{·await·page.evaluate(()·=>·document.querySelector('canvas')?.dispatchEvent(new·MouseEvent('click',·{·bubbles:·true·})));` with `}·catch·{⏎········await·page.evaluate(()·=>⏎··········document⏎············.querySelector('canvas')⏎············?.dispatchEvent(new·MouseEvent('click',·{·bubbles:·true·}))⏎········);⏎·····`  prettier/prettier

D:\projects\vibe\tests\grunt-knockback-probe.test.js
  6:11  error  Use gotoIndex(page) instead of page.goto(INDEX_PAGE)  vibe-no-raw-goto-index/no-raw-goto-index

D:\projects\vibe\tests\performance-probe.test.js
  17:13  error  Use gotoIndex(page) instead of page.goto(INDEX_PAGE)  vibe-no-raw-goto-index/no-raw-goto-index
  50:34  error  'KeyboardEvent' is not defined                        no-undef

D:\projects\vibe\tests\playwright.setup.js
  22:10  error  Use gotoIndex(page) instead of page.goto(INDEX_PAGE)  vibe-no-raw-goto-index/no-raw-goto-index
  30:12  error  Insert `⏎···`                                         prettier/prettier
  30:53  error  'URLSearchParams' is not defined                      no-undef
  95:19  error  Insert `⏎·······`                                     prettier/prettier

D:\projects\vibe\tests\runtime-usage-probe.test.js
  10:8   error  Replace `·await·page.click('canvas');` with `⏎····await·page.click('canvas');⏎·`                                                                                        prettier/prettier
  13:21  error  Insert `⏎·····`                                                                                                                                                         prettier/prettier
  17:8   error  Replace `·if·(!fs.existsSync(outDir))·fs.mkdirSync(outDir,·{·recursive:·true·});` with `⏎····if·(!fs.existsSync(outDir))·fs.mkdirSync(outDir,·{·recursive:·true·});⏎·`  prettier/prettier

D:\projects\vibe\tests\startup-black-screen-probe.test.js
  23:13  error  Use gotoIndex(page) instead of page.goto(INDEX_PAGE)                                                                                                                            vibe-no-raw-goto-index/no-raw-goto-index
  24:45  error  Replace `·state:·'attached',·timeout:·5000` with `⏎········state:·'attached',⏎········timeout:·5000,⏎·····`                                                                     prettier/prettier
  27:12  error  Replace `·await·page.click('canvas');·}·catch·{·await·page.click('body');` with `⏎········await·page.click('canvas');⏎······}·catch·{⏎········await·page.click('body');⏎·····`  prettier/prettier

✖ 126 problems (73 errors, 53 warnings)
  35 errors and 0 warnings potentially fixable with the `--fix` option.

error: script "lint" exited with code 1
